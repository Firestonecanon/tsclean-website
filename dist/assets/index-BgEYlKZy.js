import{r as c,a as se,u as te,N as re,R as F,b as $,L as g,B as ae,d as ne,e as j}from"./react-vendor-CcvDlL77.js";import{c as le}from"./supabase-NfEnG5Mc.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}})();var H={exports:{}},S={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oe=c,ie=Symbol.for("react.element"),ce=Symbol.for("react.fragment"),de=Object.prototype.hasOwnProperty,ue=oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,me={key:!0,ref:!0,__self:!0,__source:!0};function V(r,t,s){var a,n={},l=null,i=null;s!==void 0&&(l=""+s),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(a in t)de.call(t,a)&&!me.hasOwnProperty(a)&&(n[a]=t[a]);if(r&&r.defaultProps)for(a in t=r.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:ie,type:r,key:l,ref:i,props:n,_owner:ue.current}}S.Fragment=ce;S.jsx=V;S.jsxs=V;H.exports=S;var e=H.exports,G,B=se;G=B.createRoot,B.hydrateRoot;const K=c.createContext(null),xe="admin@tsclean.fr",he="admin123",L="ts-clean-auth";function pe({children:r}){const[t,s]=c.useState(()=>{const l=localStorage.getItem(L);return l?JSON.parse(l):{user:null,isAuthenticated:!1,isLoading:!1}});c.useEffect(()=>{localStorage.setItem(L,JSON.stringify(t))},[t]);const a=c.useCallback(async l=>{s(i=>({...i,isLoading:!0}));try{if(await new Promise(i=>setTimeout(i,1e3)),l.email===xe&&l.password===he){const i={id:"1",email:l.email,role:"admin"};s({user:i,isAuthenticated:!0,isLoading:!1})}else throw new Error("Invalid credentials")}catch(i){throw s(d=>({...d,isLoading:!1})),i}},[]),n=c.useCallback(()=>{localStorage.removeItem(L),s({user:null,isAuthenticated:!1,isLoading:!1})},[]);return e.jsx(K.Provider,{value:{...t,login:a,logout:n},children:r})}function I(){const r=c.useContext(K);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r}const ge="https://uteschvqkaqgmcimazcp.supabase.co",be="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV0ZXNjaHZxa2FxZ21jaW1hemNwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQzMTU1ODEsImV4cCI6MjA0OTg5MTU4MX0.3AUdM_b4uutktgRwl9CZULLTTPp4Z_5TiljMhR2SIqA",b=le(ge,be,{db:{schema:"public"},auth:{persistSession:!0,autoRefreshToken:!0}});let ye=r=>crypto.getRandomValues(new Uint8Array(r)),fe=(r,t,s)=>{let a=(2<<Math.log2(r.length-1))-1,n=-~(1.6*a*t/r.length);return(l=t)=>{let i="";for(;;){let d=s(n),h=n|0;for(;h--;)if(i+=r[d[h]&a]||"",i.length>=l)return i}}},Z=(r,t=21)=>fe(r,t|0,ye);const ve=Z("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",16);class je{constructor(){this.TABLE="inventory"}async getAll(){try{const{data:t,error:s}=await b.from(this.TABLE).select("*").order("category").order("name");if(s)throw s;return t.map(a=>({...a,inStock:a.in_stock,lastUpdated:a.last_updated,variant:a.variant||void 0,size:a.size||void 0}))}catch(t){throw console.error("[InventoryRepository] Load error:",t),t}}async createProduct(t){try{const{error:s}=await b.from(this.TABLE).insert({id:`prod_${ve()}`,...t,quantity:0,in_stock:!1,last_updated:new Date().toISOString()});if(s)throw s}catch(s){throw console.error("[InventoryRepository] Create error:",s),s}}async updateStock(t,s){try{const{error:a}=await b.from(this.TABLE).update({quantity:s,in_stock:s>0,last_updated:new Date().toISOString()}).eq("id",t);if(a)throw a}catch(a){throw console.error("[InventoryRepository] Update error:",a),a}}async deleteProduct(t){try{const{error:s}=await b.from(this.TABLE).delete().eq("id",t);if(s)throw s}catch(s){throw console.error("[InventoryRepository] Delete error:",s),s}}}const w=new je,J=c.createContext(null);function Ne({children:r}){const[t,s]=c.useState([]),[a,n]=c.useState(!0),[l,i]=c.useState(null),d=async()=>{try{i(null);const o=await w.getAll();s(o)}catch(o){i("Erreur lors du chargement de l'inventaire"),console.error("[InventoryContext] Load error:",o)}finally{n(!1)}};c.useEffect(()=>{d();const o=b.channel("inventory-changes").on("postgres_changes",{event:"*",schema:"public",table:"inventory"},()=>{d()}).subscribe();return()=>{o.unsubscribe()}},[]);const h=async o=>{try{i(null),await w.createProduct(o),await d()}catch(p){throw i("Erreur lors de la création du produit"),p}},x=async(o,p)=>{try{i(null),await w.updateStock(o,p),await d()}catch(v){throw i("Erreur lors de la mise à jour du stock"),v}},u=async o=>{try{i(null),await w.deleteProduct(o),await d()}catch(p){throw i("Erreur lors de la suppression du produit"),p}};return e.jsx(J.Provider,{value:{inventory:t,createProduct:h,updateStock:x,deleteProduct:u,loadInventory:d,isLoading:a,error:l},children:r})}function N(){const r=c.useContext(J);if(!r)throw new Error("useInventory must be used within an InventoryProvider");return r}function we({children:r}){const{isAuthenticated:t}=I(),s=te();return t?e.jsx(e.Fragment,{children:r}):e.jsx(re,{to:"/admin/login",state:{from:s},replace:!0})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ke={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),m=(r,t)=>{const s=c.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:d="",children:h,...x},u)=>c.createElement("svg",{ref:u,...ke,width:n,height:n,stroke:a,strokeWidth:i?Number(l)*24/Number(n):l,className:["lucide",`lucide-${Se(r)}`,d].join(" "),...x},[...t.map(([o,p])=>c.createElement(o,p)),...Array.isArray(h)?h:[h]]));return s.displayName=`${r}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=m("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=m("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=m("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=m("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=m("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=m("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=m("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=m("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=m("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=m("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=m("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=m("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=m("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=m("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=m("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=m("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=m("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=m("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=m("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=m("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=m("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=m("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=m("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=m("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function _e(){const[r,t]=F.useState(!1),{isAuthenticated:s,logout:a}=I(),n=$(),l=()=>{a(),n("/")};return e.jsxs("nav",{className:"bg-blue-600 text-white",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs(g,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(Y,{className:"h-8 w-8"}),e.jsx("span",{className:"font-bold text-xl",children:"TS Clean"})]}),e.jsxs("div",{className:"hidden md:flex space-x-8",children:[e.jsx(g,{to:"/",className:"hover:text-blue-200",children:"Accueil"}),e.jsx(g,{to:"/products",className:"hover:text-blue-200",children:"Produits"}),e.jsx(g,{to:"/locations",className:"hover:text-blue-200",children:"Nos Laveries"}),e.jsx(g,{to:"/contact",className:"hover:text-blue-200",children:"Contact"}),s&&e.jsxs(e.Fragment,{children:[e.jsx(g,{to:"/admin/inventory",className:"hover:text-blue-200",children:"Gestion Stock"}),e.jsxs("button",{onClick:l,className:"flex items-center hover:text-blue-200",children:[e.jsx(D,{className:"h-5 w-5 mr-1"}),"Déconnexion"]})]})]}),e.jsx("button",{className:"md:hidden",onClick:()=>t(!r),children:r?e.jsx(O,{className:"h-6 w-6"}):e.jsx(Me,{className:"h-6 w-6"})})]})}),r&&e.jsx("div",{className:"md:hidden",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[e.jsx(g,{to:"/",className:"block px-3 py-2 hover:bg-blue-700 rounded-md",children:"Accueil"}),e.jsx(g,{to:"/products",className:"block px-3 py-2 hover:bg-blue-700 rounded-md",children:"Produits"}),e.jsx(g,{to:"/locations",className:"block px-3 py-2 hover:bg-blue-700 rounded-md",children:"Nos Laveries"}),e.jsx(g,{to:"/contact",className:"block px-3 py-2 hover:bg-blue-700 rounded-md",children:"Contact"}),s&&e.jsxs(e.Fragment,{children:[e.jsx(g,{to:"/admin/inventory",className:"block px-3 py-2 hover:bg-blue-700 rounded-md",children:"Gestion Stock"}),e.jsxs("button",{onClick:l,className:"w-full text-left px-3 py-2 hover:bg-blue-700 rounded-md flex items-center",children:[e.jsx(D,{className:"h-5 w-5 mr-2"}),"Déconnexion"]})]})]})})]})}const f={address:"20 Grande Rue, 25400 Audincourt",email:"ts.clean@yahoo.com",facebookUrl:"https://www.facebook.com/laveriesTS",messengerUrl:"https://m.me/laveriesTS",siret:"899 790 331"},Oe={"Laverie 20 Grande Rue":"6h-23h 7/7","Laverie 90 Grande Rue":"6h-21h 7/7"};function Be(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"relative bg-blue-600 text-white py-32",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("https://images.unsplash.com/photo-1582735689369-4fe89db7114c?auto=format&fit=crop&w=2000&q=80")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/90 to-blue-900/70"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsxs("h1",{className:"text-5xl font-bold mb-6 leading-tight",children:["TS Clean",e.jsx("span",{className:"block text-2xl font-normal mt-2",children:"Vos produits d'entretien professionnels à Audincourt"})]}),e.jsx("p",{className:"text-xl mb-8 text-blue-100",children:"Découvrez notre gamme complète de produits d'entretien de qualité professionnelle pour vos besoins en laverie"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(g,{to:"/products",className:"w-full sm:w-auto bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-blue-50 text-center text-lg transition-colors duration-200",children:"Découvrir nos produits"}),e.jsx(g,{to:"/contact",className:"w-full sm:w-auto bg-transparent border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-blue-600 text-center text-lg transition-all duration-200",children:"Nous Contacter"})]})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Y,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Produits Professionnels"}),e.jsx("p",{className:"text-gray-600",children:"Large gamme de produits d'entretien de qualité"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(R,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2 Laveries"}),e.jsx("p",{className:"text-gray-600",children:"Situées au centre d'Audincourt"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(P,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Contact Simple"}),e.jsx("p",{className:"text-gray-600",children:"Par email ou Messenger"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Q,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Suivez-nous"}),e.jsx("p",{className:"text-gray-600",children:"Retrouvez-nous sur Facebook"})]})]})}),e.jsx("div",{className:"bg-gray-100 py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"TS Clean"}),e.jsx("p",{className:"text-gray-600 mb-2",children:f.address}),e.jsxs("p",{className:"text-gray-600",children:["SIRET: ",f.siret]})]})})})]})}function De({product:r}){const{inventory:t}=N(),s=t.find(i=>i.id===r.id),a=(s==null?void 0:s.quantity)??0,n=a===0,l=a>0&&a<5;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.image,alt:r.name,className:"w-full h-48 object-cover"}),e.jsx("div",{className:`absolute top-2 right-2 px-3 py-1.5 rounded-full text-sm font-bold 
          ${n?"bg-red-500 text-white":l?"bg-yellow-500 text-white":"bg-green-500 text-white"} md:hidden`,children:n?"⚠️ Rupture":`${a} en stock`}),e.jsx("div",{className:`absolute top-0 right-0 left-0 p-2 text-sm font-bold text-center hidden md:block
          ${n?"bg-red-500 text-white":l?"bg-yellow-500 text-white":"bg-green-500 text-white"}`,children:n?"⚠️ RUPTURE DE STOCK":`${a} EN STOCK`})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:r.name}),r.variant&&e.jsxs("p",{className:"text-sm text-blue-600 mb-2",children:["Parfum: ",r.variant]}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:r.description}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("p",{className:"text-blue-600 font-bold",children:[r.price.toFixed(2)," €"]}),r.size&&e.jsx("span",{className:"text-sm text-gray-500",children:r.size})]}),e.jsx("div",{className:"mt-4 flex items-center gap-2",children:n?e.jsxs("div",{className:"flex items-center text-red-600 font-semibold",children:[e.jsx(Le,{className:"h-5 w-5 mr-1"}),e.jsx("span",{className:"text-sm",children:"Rupture de stock"})]}):e.jsxs("div",{className:"flex items-center text-green-600 font-semibold",children:[e.jsx(C,{className:"h-5 w-5 mr-1"}),e.jsx("span",{className:"text-sm",children:l?"Stock limité":"Disponible"})]})})]})]})}const Ue={lessive:T,assouplissant:_,nettoyant:M,parfum:E,divers:C};function qe({group:r}){const t=Ue[r.category];return e.jsxs("div",{id:r.category,className:"scroll-mt-24",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(t,{className:"h-8 w-8 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold",children:r.title})]}),e.jsx("p",{className:"text-gray-600",children:r.description})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.products.map(s=>e.jsx(De,{product:s},s.id))})]})}function ze({groups:r}){return e.jsx("div",{className:"space-y-16",children:r.map(t=>e.jsx(qe,{group:t},t.category))})}const U=[{category:"lessive",title:"Lessives",description:"Nos lessives professionnelles concentrées en bidon de 5L pour un linge impeccable",products:[]},{category:"assouplissant",title:"Assouplissants",description:"Des assouplissants aux parfums délicats pour un linge doux",products:[]},{category:"nettoyant",title:"Nettoyants Sol",description:"Des nettoyants multi-usage efficaces pour tous types de sols",products:[]},{category:"parfum",title:"Parfums Auto",description:"Des parfums longue durée pour votre voiture",products:[]},{category:"divers",title:"Produits Divers",description:"Autres produits d'entretien spécialisés",products:[]}],q={lessive:T,assouplissant:_,nettoyant:M,parfum:E,divers:C},z={lessive:"Lessives",assouplissant:"Assouplissants",nettoyant:"Nettoyants",parfum:"Parfums Auto",divers:"Divers"};function Fe(){const r=t=>{const s=document.getElementById(t);s&&s.scrollIntoView({behavior:"smooth",block:"start"})};return e.jsxs("div",{className:"sticky top-24 z-50",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"fixed right-8 top-1/2 -translate-y-1/2 bg-white rounded-lg shadow-lg p-2",children:e.jsx("div",{className:"flex flex-col space-y-2",children:U.map(t=>{const s=q[t.category];return e.jsxs("button",{onClick:()=>r(t.category),className:"p-2 hover:bg-blue-50 rounded-lg group relative transition-colors duration-200","aria-label":t.title,children:[e.jsx(s,{className:"h-6 w-6 text-blue-600"}),e.jsx("span",{className:"absolute right-full mr-2 py-1 px-2 bg-blue-600 text-white text-sm rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:z[t.category]})]},t.category)})})})}),e.jsx("div",{className:"lg:hidden",children:e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t border-gray-200",children:e.jsx("div",{className:"flex justify-around p-2",children:U.map(t=>{const s=q[t.category];return e.jsxs("button",{onClick:()=>r(t.category),className:"flex flex-col items-center p-2 hover:text-blue-600 transition-colors duration-200","aria-label":t.title,children:[e.jsx(s,{className:"h-6 w-6"}),e.jsx("span",{className:"text-xs mt-1",children:z[t.category]})]},t.category)})})})})]})}function $e(){const{inventory:r,isLoading:t}=N(),s=F.useMemo(()=>{const a={lessive:{title:"Lessives",description:"Nos lessives professionnelles concentrées",products:[]},assouplissant:{title:"Assouplissants",description:"Des assouplissants aux parfums délicats",products:[]},nettoyant:{title:"Nettoyants Sol",description:"Des nettoyants multi-usage efficaces",products:[]},parfum:{title:"Parfums Auto",description:"Des parfums longue durée",products:[]},divers:{title:"Produits Divers",description:"Autres produits d'entretien",products:[]}};return r.forEach(n=>{a[n.category]&&a[n.category].products.push(n)}),Object.entries(a).filter(([n,l])=>l.products.length>0).map(([n,l])=>({category:n,title:l.title,description:l.description,products:l.products}))},[r]);return t?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Nos Produits"}),e.jsx(Fe,{}),e.jsx(ze,{groups:s}),e.jsx("div",{className:"h-20 lg:hidden"})]})}function He({location:r}){return e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(R,{className:"h-6 w-6 text-blue-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:r.address}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("a",{href:r.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Itinéraire"]}),e.jsx("a",{href:r.googleBusinessUrl,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-600 hover:text-blue-800",children:"Voir sur Google Maps"})]})]})]})})}const Ve=[{id:"1",address:"20 Grande Rue, 25400 Audincourt",googleMapsUrl:"https://www.google.com/maps/dir//20+Grande+Rue+25400+Audincourt",googleBusinessUrl:"https://maps.app.goo.gl/YOUR-LINK-HERE"},{id:"2",address:"90 Grande Rue, 25400 Audincourt",googleMapsUrl:"https://www.google.com/maps/dir//90+Grande+Rue+25400+Audincourt",googleBusinessUrl:"https://maps.app.goo.gl/YOUR-LINK-HERE"}];function Ge(){return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Nos Laveries"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:Ve.map(r=>e.jsx(He,{location:r},r.id))})]})}function Ke(){return e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Informations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:f.address})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(P,{className:"h-5 w-5 text-blue-600"}),e.jsx("a",{href:`mailto:${f.email}`,className:"text-blue-600 hover:text-blue-800",children:f.email})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Q,{className:"h-5 w-5 text-blue-600"}),e.jsx("a",{href:"https://www.facebook.com/people/Laveries-TS/100075557962009/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"Laveries TS"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(X,{className:"h-5 w-5 text-blue-600"}),e.jsx("a",{href:"https://www.facebook.com/messages/t/109399668166437",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"Nous contacter sur Messenger"})]})]})]})}function Ze(){return e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(Ae,{className:"h-5 w-5 mr-2 text-blue-600"}),"Horaires"]}),e.jsx("div",{className:"space-y-2",children:Object.entries(Oe).map(([r,t])=>e.jsxs("p",{children:[e.jsxs("span",{className:"font-semibold",children:[r,":"]})," ",t]},r))})]})}function Je(){return e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Nous Contacter"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Pour commander nos produits d'entretien professionnels, vous pouvez nous contacter :"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("a",{href:`mailto:${f.email}`,className:"flex items-center space-x-3 bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[e.jsx(P,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Par email"}),e.jsx("p",{className:"text-gray-600",children:f.email})]})]}),e.jsxs("a",{href:f.messengerUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[e.jsx(X,{className:"h-6 w-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Via Messenger"}),e.jsx("p",{className:"text-gray-600",children:"Message instantané sur Facebook"})]})]})]})]})}function Qe(){return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Contact"}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx(Ke,{}),e.jsx(Ze,{})]})}),e.jsx(Je,{})]})}function Xe({item:r}){const[t,s]=c.useState(!1),[a,n]=c.useState(r.quantity),[l,i]=c.useState(!1),{updateStock:d,deleteProduct:h}=N(),x=y=>{y>=0&&n(y)},u=async()=>{try{i(!0),await d(r.id,a),s(!1)}catch(y){console.error("Failed to update stock:",y)}finally{i(!1)}},o=async()=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce produit ?"))try{await h(r.id)}catch(y){console.error("Failed to delete product:",y)}},p=()=>{n(r.quantity),s(!1)},v=()=>r.inStock?r.quantity<5?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800":"bg-red-100 text-red-800";return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-4 sm:px-6 w-1/3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12",children:e.jsx("img",{className:"w-full h-full rounded-lg object-cover",src:r.image,alt:r.name,loading:"lazy"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:r.name}),e.jsx("p",{className:"text-sm text-gray-500 truncate md:hidden",children:r.category}),r.variant&&e.jsx("p",{className:"text-xs text-blue-600 truncate",children:r.variant})]})]})}),e.jsx("td",{className:"px-3 py-4 sm:px-6 hidden md:table-cell w-1/6",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:r.category})}),e.jsx("td",{className:"px-3 py-4 sm:px-6 w-1/6",children:t?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>x(a-1),className:"p-1 rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50",disabled:l,children:e.jsx(Pe,{className:"h-4 w-4"})}),e.jsx("input",{type:"number",className:"w-16 px-2 py-1 border rounded text-center disabled:opacity-50",value:a,onChange:y=>x(parseInt(y.target.value)||0),disabled:l}),e.jsx("button",{onClick:()=>x(a+1),className:"p-1 rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50",disabled:l,children:e.jsx(W,{className:"h-4 w-4"})})]}):e.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${v()}`,children:[r.quantity," en stock"]})}),e.jsx("td",{className:"px-3 py-4 sm:px-6 hidden md:table-cell w-1/6",children:e.jsx("span",{className:"text-sm text-gray-500",children:new Date(r.lastUpdated).toLocaleDateString()})}),e.jsx("td",{className:"px-3 py-4 sm:px-6 w-1/6",children:e.jsx("div",{className:"flex justify-end gap-2",children:t?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:u,disabled:l,className:"inline-flex items-center p-2 bg-green-100 text-green-700 rounded-md hover:bg-green-200 disabled:opacity-50",title:"Sauvegarder",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsx("button",{onClick:p,disabled:l,className:"inline-flex items-center p-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 disabled:opacity-50",title:"Annuler",children:e.jsx(O,{className:"h-4 w-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>s(!0),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md",title:"Modifier",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsx("button",{onClick:o,className:"p-2 text-red-600 hover:bg-red-50 rounded-md",title:"Supprimer",children:e.jsx(ee,{className:"h-4 w-4"})})]})})})]})}const We={lessive:T,assouplissant:_,nettoyant:M,parfum:E,divers:C},Ye={lessive:"Lessives",assouplissant:"Assouplissants",nettoyant:"Nettoyants",parfum:"Parfums Auto",divers:"Divers"};function es({onCategorySelect:r,selectedCategory:t}){return e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0 mb-6",children:[e.jsx("button",{onClick:()=>r("all"),className:`px-4 py-2 rounded-lg whitespace-nowrap ${t==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Tous les produits"}),Object.entries(We).map(([s,a])=>e.jsxs("button",{onClick:()=>r(s),className:`px-4 py-2 rounded-lg flex items-center whitespace-nowrap ${t===s?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(a,{className:"h-5 w-5 mr-2"}),Ye[s]]},s))]})}const ss=Z("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",16),ts=()=>`bkp_${ss()}`;class rs{constructor(){this.BACKUP_TABLE="backups"}async initialize(){try{const{error:t}=await b.from(this.BACKUP_TABLE).select("id").limit(1);if((t==null?void 0:t.code)==="42P01")throw new Error("La table de sauvegarde n'existe pas. Veuillez exécuter le script SQL de migration.")}catch(t){throw console.error("[Backup] Initialization error:",t),t}}async create(t){try{const{data:s,error:a}=await b.from("inventory").select("*");if(a)throw a;const n={id:ts(),timestamp:new Date().toISOString(),data:{inventory:s||[]},metadata:{version:"1.0.0",description:t}},{error:l}=await b.from(this.BACKUP_TABLE).insert(n);if(l)throw l;return n}catch(s){throw console.error("[Backup] Create error:",s),s}}async restore(t){try{const{data:s,error:a}=await b.from(this.BACKUP_TABLE).select("*").eq("id",t).single();if(a)throw a;if(!s)throw new Error("Backup not found");const{error:n}=await b.from("inventory").upsert(s.data.inventory,{onConflict:"id",ignoreDuplicates:!1});if(n)throw n}catch(s){throw console.error("[Backup] Restore error:",s),s}}async list(){try{const{data:t,error:s}=await b.from(this.BACKUP_TABLE).select("*").order("timestamp",{ascending:!1});if(s)throw s;return t||[]}catch(t){throw console.error("[Backup] List error:",t),t}}async delete(t){try{const{error:s}=await b.from(this.BACKUP_TABLE).delete().eq("id",t);if(s)throw s}catch(s){throw console.error("[Backup] Delete error:",s),s}}}const k=new rs;function as(){const[r,t]=c.useState([]),[s,a]=c.useState(!1),[n,l]=c.useState(null),{loadInventory:i}=N();c.useEffect(()=>{d()},[]);const d=async()=>{try{l(null);const o=await k.list();t(o)}catch{l("Erreur lors du chargement des sauvegardes")}},h=async()=>{try{a(!0),l(null);const o=prompt("Description de la sauvegarde (optionnel):");await k.create(o||void 0),await d()}catch{l("Erreur lors de la création de la sauvegarde")}finally{a(!1)}},x=async o=>{if(confirm("Êtes-vous sûr de vouloir restaurer cette sauvegarde ? Les données actuelles seront remplacées."))try{a(!0),l(null),await k.restore(o),await i()}catch{l("Erreur lors de la restauration")}finally{a(!1)}},u=async o=>{if(confirm("Êtes-vous sûr de vouloir supprimer cette sauvegarde ?"))try{a(!0),l(null),await k.delete(o),await d()}catch{l("Erreur lors de la suppression")}finally{a(!1)}};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Sauvegardes"}),e.jsxs("button",{onClick:h,disabled:s,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(A,{className:"h-5 w-5 mr-2"}),"Nouvelle sauvegarde"]})]}),n&&e.jsxs("div",{className:"mb-4 p-4 bg-red-50 text-red-700 rounded-lg flex items-center",children:[e.jsx(Ce,{className:"h-5 w-5 mr-2"}),n]}),e.jsxs("div",{className:"space-y-4",children:[r.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:new Date(o.timestamp).toLocaleString()}),o.metadata.description&&e.jsx("p",{className:"text-sm text-gray-600",children:o.metadata.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>x(o.id),disabled:s,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Restaurer",children:e.jsx(Re,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>u(o.id),disabled:s,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Supprimer",children:e.jsx(ee,{className:"h-5 w-5"})})]})]},o.id)),r.length===0&&e.jsx("p",{className:"text-center text-gray-500 py-4",children:"Aucune sauvegarde disponible"})]})]})}const ns=["lessive","assouplissant","nettoyant","parfum","divers"];function ls({onSubmit:r,onCancel:t}){const[s,a]=c.useState({name:"",description:"",price:0,image:"",category:"lessive"}),[n,l]=c.useState(!1),[i,d]=c.useState(null),h=async u=>{if(u.preventDefault(),!s.name.trim()){d("Le nom est requis");return}if(!s.description.trim()){d("La description est requise");return}if(s.price<=0){d("Le prix doit être supérieur à 0");return}if(!s.image.trim()){d("L'URL de l'image est requise");return}try{l(!0),d(null),await r(s)}catch{d("Erreur lors de la création du produit")}finally{l(!1)}},x=u=>{const{name:o,value:p}=u.target;a(v=>({...v,[o]:o==="price"?parseFloat(p)||0:p}))};return e.jsxs("form",{onSubmit:h,className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Nouveau produit"}),e.jsx("button",{type:"button",onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(O,{className:"h-5 w-5"})})]}),i&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md",children:i}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:x,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:s.description,onChange:x,rows:3,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix"}),e.jsx("input",{type:"number",name:"price",value:s.price,onChange:x,step:"0.01",min:"0",className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL de l'image"}),e.jsx("input",{type:"url",name:"image",value:s.image,onChange:x,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie"}),e.jsx("select",{name:"category",value:s.category,onChange:x,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:ns.map(u=>e.jsx("option",{value:u,children:u.charAt(0).toUpperCase()+u.slice(1)},u))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Variante (optionnel)"}),e.jsx("input",{type:"text",name:"variant",value:s.variant||"",onChange:x,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille (optionnel)"}),e.jsx("input",{type:"text",name:"size",value:s.size||"",onChange:x,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[e.jsx("button",{type:"button",onClick:t,disabled:n,className:"px-4 py-2 border rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Annuler"}),e.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Créer le produit"})]})]})}function os(){const{inventory:r,error:t,isLoading:s,createProduct:a}=N(),[n,l]=c.useState("all"),[i,d]=c.useState(""),[h,x]=c.useState(!1),u=r.filter(o=>{const p=n==="all"||o.category===n,v=o.name.toLowerCase().includes(i.toLowerCase())||o.description.toLowerCase().includes(i.toLowerCase());return p&&v});return s?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):h?e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:e.jsx(ls,{onSubmit:async o=>{await a(o),x(!1)},onCancel:()=>x(!1)})}):e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid gap-8 md:grid-cols-[2fr,1fr]",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"sm:flex sm:items-center mb-6",children:[e.jsxs("div",{className:"sm:flex-auto",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Gestion des Stocks"}),e.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Gérez l'inventaire de tous vos produits"}),t&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:t})]}),e.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16",children:e.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(W,{className:"h-5 w-5 mr-2"}),"Nouveau produit"]})})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsx(es,{onCategorySelect:l,selectedCategory:n}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:i,onChange:o=>d(o.target.value),className:"pl-10 pr-4 py-2 w-full border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-3 sm:px-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),e.jsx("th",{className:"px-3 py-3 sm:px-6 hidden md:table-cell text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catégorie"}),e.jsx("th",{className:"px-3 py-3 sm:px-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-3 py-3 sm:px-6 hidden md:table-cell text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dernière mise à jour"}),e.jsx("th",{className:"px-3 py-3 sm:px-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(o=>e.jsx(Xe,{item:o},o.id))})]})})]}),e.jsx("div",{children:e.jsx(as,{})})]})})}function is(){const[r,t]=c.useState(""),[s,a]=c.useState(""),[n,l]=c.useState(""),{login:i,isLoading:d}=I(),h=$(),x=async u=>{u.preventDefault(),l("");try{await i({email:r,password:s}),h("/admin/inventory")}catch{l("Email ou mot de passe incorrect")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100",children:e.jsx(Ee,{className:"h-6 w-6 text-blue-600"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Connexion Administration"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email",value:r,onChange:u=>t(u.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe",value:s,onChange:u=>a(u.target.value)})]})]}),n&&e.jsx("div",{className:"text-red-600 text-sm text-center",children:n}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:d?"Connexion...":"Se connecter"})})]})]})})}function cs(){return e.jsx(pe,{children:e.jsx(Ne,{children:e.jsx(ae,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(_e,{}),e.jsxs(ne,{children:[e.jsx(j,{path:"/",element:e.jsx(Be,{})}),e.jsx(j,{path:"/products",element:e.jsx($e,{})}),e.jsx(j,{path:"/locations",element:e.jsx(Ge,{})}),e.jsx(j,{path:"/contact",element:e.jsx(Qe,{})}),e.jsx(j,{path:"/admin/login",element:e.jsx(is,{})}),e.jsx(j,{path:"/admin/inventory",element:e.jsx(we,{children:e.jsx(os,{})})})]})]})})})})}G(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx(cs,{})}));
//# sourceMappingURL=index-BgEYlKZy.js.map
